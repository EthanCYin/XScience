/* 1. Style the main search container (#search) as a full-screen overlay. */
#search {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;

  /* --- Added: Make the entire overlay scrollable --- */
  /* This solves the problem of content not being fully visible after the keyboard pops up on small screens */
  overflow-y: auto;

  /* --- Added: Add top and bottom padding to the overlay --- */
  /* This prevents the search box from sticking to the screen edges */
  padding: 5vh 0;

  /* Hidden by default (controlled by the theme's JS script by adding or removing the 'hidden' class) */
  &.hidden {
    display: none;
  }
}

/* 2. Style the Pagefind UI search box itself inside the overlay. */
#search .pagefind-ui {
  width: 90%;
  max-width: 700px;

  /* --- Modified: Remove the fixed top margin to let it align naturally within the overlay --- */
  margin: auto; /* Using auto allows it to be centered horizontally and vertically (if there is enough space) */

  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  padding: 0.5rem 1rem;
}

/* Adaptation for dark mode */
html.dark #search .pagefind-ui {
  background-color: #152028; /* Background color for dark mode */
}

/* 3. Optimize the results list style */
#search .pagefind-ui__results {
  border: none;
  max-height: 60vh;

  /* --- Added: Allow the results list itself to scroll --- */
  overflow-y: auto;
}